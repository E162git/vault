<PageHeader as |p|>
  <p.top>
    <nav class="breadcrumb">
      <ul>
        <li>
          <span class="sep">&#x0002f;</span>
          <LinkTo @route="vault.cluster.secrets.backend" @model={{@backendPath}}>
            {{@backendPath}}
          </LinkTo>
        </li>
        <li>
          <span class="sep">&#x0002f;</span>
          <LinkTo @route="vault.cluster.secrets.backend.show" @model={{@roleName}}>
            {{@roleName}}
          </LinkTo>
        </li>
      </ul>
    </nav>
  </p.top>
  <p.levelLeft>
    <h1 data-test-title class="title is-3">
      {{@roleName}}
    </h1>
  </p.levelLeft>
</PageHeader>

<div class="box is-fullwidth is-sideless is-marginless">
  <MessageError @model={{model}} />
  {{#unless model.isError}}
    <AlertBanner
      @type="warning"
      @message="You will not be able to access these credentials later, so please copy them now."
      data-test-warning
    />
  {{/unless}}   
  {{log @model "MODEL"}}
  <InfoTableRow @label="Username" @value={{model.username}}>
    <MaskedInput
      @value={{@model.username}}
      @name="Username"
      @displayOnly={{true}}
      @allowCopy={{true}}
    />
  </InfoTableRow>
  <InfoTableRow @label="Password" @value={{model.password}}>
    <MaskedInput
      @value={{model.password}}
      @name="Password"
      @displayOnly={{true}}
      @allowCopy={{true}}
    />
  </InfoTableRow>
  <InfoTableRow @label="Lease ID" @value={{model.leaseId}} />
  <InfoTableRow @label="Lease Duration" @value={{model.leaseDuration}} />
</div>
<div class="has-top-bottom-margin">
  <button
    type="button"
    onclick={{action "redirectPreviousPage"}}
    class="button is-primary"
    data-test-secret-generate-back="true"
  >
    Back
  </button>
</div>
